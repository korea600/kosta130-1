<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd" >
<sqlMap namespace="reg">
	<!-- ID REQUEST REASON TIMES STATUS -->

	<select id="adminReg" resultClass="admin.reg.model.RegDTO"
		parameterClass="String">
		select
		id,request,reason,times,checked
		from register
		where checked=#checked#
	</select>

	<select id="adminRegForm" parameterClass="admin.reg.model.RegDTO"
		resultClass="admin.reg.model.RegDTO">
		select r.id, m.name, m.tel, r.request, r.reason
		from register r, member m
		where r.id=#id# and r.id=m.id and r.checked=#checked#
	</select>

	<update id="mem_update" parameterClass="admin.reg.model.RegDTO">
		update member set
		status=#status#
		where id=#id#
	</update>

	<update id="reg_update" parameterClass="admin.reg.model.RegDTO">
		update register set
		checked=#checked#
		where id=#id#
	</update>
</sqlMap>
